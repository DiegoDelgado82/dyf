<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="robots" content="max-image-preview:large" />
    <title>BARBARA</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Love+Light&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="BARBARA/js"
      data-cfasync="false"
      data-wpfc-render="false"
      async=""
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link
      rel="stylesheet"
      id="dce-animations-css"
      href="BARBARA/animations.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="bdt-uikit-css"
      href="BARBARA/bdt-uikit.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="ep-helper-css"
      href="BARBARA/ep-helper.css"
      media="all"
    />

    <link
      rel="stylesheet"
      id="twentytwentytwo-style-css"
      href="BARBARA/style_002.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="jet-elements-css"
      href="BARBARA/jet-elements.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="jet-elements-skin-css"
      href="BARBARA/jet-elements-skin.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-icons-css"
      href="BARBARA/elementor-icons.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-frontend-css"
      href="BARBARA/frontend-lite.min.css"
      media="all"
    />

    <link
      rel="stylesheet"
      id="swiper-css"
      href="BARBARA/swiper.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-post-4-css"
      href="BARBARA/post-4.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="dce-style-css"
      href="BARBARA/style.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="dashicons-css"
      href="BARBARA/dashicons.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-pro-css"
      href="BARBARA/frontend-lite.min_002.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="jet-tabs-frontend-css"
      href="BARBARA/jet-tabs-frontend.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="font-awesome-5-all-css"
      href="BARBARA/all.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="font-awesome-4-shim-css"
      href="BARBARA/v4-shims.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="wpdt-elementor-widget-font-css"
      href="BARBARA/style.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-global-css"
      href="BARBARA/global.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-post-42098-css"
      href="BARBARA/post-42098.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-post-1715-css"
      href="BARBARA/post-1715.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-post-3854-css"
      href="BARBARA/post-3854.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="google-fonts-1-css"
      href="BARBARA/css.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-icons-shared-0-css"
      href="BARBARA/fontawesome.min.css"
      media="all"
    />
    <link
      rel="stylesheet"
      id="elementor-icons-fa-solid-css"
      href="BARBARA/solid.min.css"
      media="all"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <script
      src="BARBARA/frontend-gtag.min.js"
      id="monsterinsights-frontend-script-js"
      async=""
      data-wp-strategy="async"
    ></script>

    <script src="BARBARA/jquery.min.js" id="jquery-core-js"></script>
    <script src="BARBARA/jquery-migrate.min.js" id="jquery-migrate-js"></script>
    <script src="BARBARA/v4-shims.min.js" id="font-awesome-4-shim-js"></script>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <script src="BARBARA/wp-emoji-release.min.js" defer="defer"></script>
  </head>

  <!--BLOQUE DE BD-->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
  <!--FIN BLOQUE DE BD-->

  <body>
    <!-- Sección Foto Principal -->

    <!-- Sección principal con fondo -->
    <section class="hero-section">
      <!-- Capa oscura -->
      <div class="capa-oscura"></div>

      <!-- Flores -->
      <img
        src="BARBARA/floresAI.png"
        class="flores-superior"
        alt="Flores izquierda"
      />
      <img
        src="BARBARA/floresAD.png"
        class="flores-inferior"
        alt="Flores inferior derecha"
      />

      <!-- Contenido -->
      <div class="contenido-central">
        <h1
          class="love-light-regular"
          style="
            font-size: clamp(90px, 10vw, 128px);
            text-shadow: 2px 2px 4px black;
          "
        >
          Bárbara
        </h1>
        <h2 style="font-size: 2rem; letter-spacing: 2px">MIS 15 AÑOS</h2>
        <div style="margin-top: 1rem">
          <span
            style="
              border: 2px solid #fff;
              background-color: #0d1b3d;
              padding: 0.5rem 2rem;
              border-radius: 2rem;
              display: inline-block;
              font-size: 2rem;
            "
            >23/11/2025</span
          >
        </div>
      </div>

      <!-- Onda decorativa -->
      <img src="banners/asdqw.png" class="onda-deco" alt="Onda decorativa" />
    </section>

    <style>
      .hero-section {
        position: relative;
        background: url("/BARBARA/chateau.png") center top / cover no-repeat;
        min-height: 100vh;
        overflow: hidden;
      }

      .capa-oscura {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4);
        z-index: 0;
      }

      .flores-superior {
        position: absolute;
        left: 0;
        top: 0;
        width: 450px;
        opacity: 0;
        animation: aparecer 1.8s ease-in-out forwards;
        max-width: 100%;
        z-index: 2;
      }

      .flores-inferior {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 450px;
        opacity: 0;
        animation: aparecer 1.8s ease-in-out forwards;
        z-index: 2;
      }

      .contenido-central {
        position: absolute;
        top: 55%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        text-align: center;
        color: #fff;
      }

      .onda-deco {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        z-index: 3;
      }

      @media (min-width: 768px) {
        .hero-section {
          background-position: center 30%; /* Subir imagen para pantallas grandes */
        }

        .contenido-central {
          top: 65%; /* Bajar el texto en pantallas grandes */
        }
      }

      @keyframes aparecer {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
    <!-- Estilos para animaciones -->
    <style>
      @keyframes aparecer {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      .aparecer {
        animation: aparecer 1.2s ease-in-out forwards;
      }
    </style>

    <!-- Sección Contador -->

    <section
      style="
        background-image: url('/barbara/asdqw.png');
        padding: 2rem 1rem;
        text-align: center;
      "
    >
      <div class="fade-on-scroll mb-3">
        <img
          width="120"
          height="106"
          src="BARBARA/reloj.png"
          class="img-fluid"
          alt="Ubicación"
        />
      </div>
      <h2 class="text-dark fw-bold font_title">FALTAN</h2>
      <div
        style="
          font-family: 'Poppins', sans-serif;
          font-weight: bold;
          font-size: 2.6rem;
          color: #0d1b3d;
        "
        id="compactCountdown"
      >
        Cargando...
      </div>
    </section>

    <script>
      const endDate = new Date("2025-11-23T21:30:00").getTime();

      function updateCountdown() {
        const now = new Date().getTime();
        const diff = endDate - now;

        if (diff <= 0) {
          document.getElementById("compactCountdown").textContent = "¡Es hoy!";
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        const html = `
      ${days}<span style="font-size:0.3em;">DÍAS</span> 
      ${hours
        .toString()
        .padStart(2, "0")}<span style="font-size:0.3em;">HS</span> 
      ${minutes
        .toString()
        .padStart(2, "0")}<span style="font-size:0.3em;">MIN</span> 
      ${seconds
        .toString()
        .padStart(2, "0")}<span style="font-size:0.3em;">SEG</span>
    `;

        document.getElementById("compactCountdown").innerHTML = html;
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    </script>

    <!-- Sección Fotos -->
    <div class="w-100">
      <img
        src="banners/azulSuperior.png"
        class="img-fluid d-block w-100"
        alt="Decoración azul superior"
      />
    </div>
    <section class="section-fotos">
      <div class="container-fluid px-3" style="background-color: #0f1e3d">
        <div>
          <div class="fade-on-scroll mb-3 text-center">
            <img
              width="180"
              height="106"
              src="BARBARA/fotos.png"
              class="img-fluid"
              alt="Icono musical"
            />
          </div>

          <div
            id="carouselFotos"
            class="carousel slide"
            data-bs-ride="carousel"
          >
            <div class="carousel-inner" style="max-height: 600px">
              <!-- Las imágenes se insertan con JavaScript -->
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselFotos"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselFotos"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
            </button>
          </div>

          <script>
            const totalFotos = 34;
            const carouselInner = document.querySelector(".carousel-inner");

            for (let i = 1; i <= totalFotos; i++) {
              const divItem = document.createElement("div");
              divItem.className = "carousel-item" + (i === 1 ? " active" : "");

              const img = document.createElement("img");
              img.src = `/BARBARA/FOTOS/${i}.jpg`;
              img.className = "d-block mx-auto";
              img.style.maxHeight = "600px";
              img.style.objectFit = "contain";

              divItem.appendChild(img);
              carouselInner.appendChild(divItem);
            }
          </script>

          <!-- Bootstrap JS -->
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        </div>
      </div>
    </section>
    <div class="w-100">
      <img
        src="banners/azulInferior.png"
        class="img-fluid d-block w-100"
        alt="Decoración azul superior"
      />
    </div>

    <!-- Sección Ubicación -->
    <section class="my-5">
      <div class="container-fluid px-3">
        <div
          class="mx-auto p-4 rounded-4 border border-1 shadow text-center"
          style="
            border-color: #d4af37 !important;
            background-color: #ffffff;
            max-width: 1000px;
          "
        >
          <!-- Icono de ubicación -->
          <div class="fade-on-scroll mb-3">
            <img
              width="120"
              height="106"
              src="BARBARA/ubicacion.png"
              class="img-fluid"
              alt="Ubicación"
            />
          </div>

          <!-- Título -->
          <h2 class="text-dark fw-bold font_title">SALÓN LA CAYETANA</h2>
          <h6 class="text-dark fw-bold font_title">
            RÍO NEGRO 4000. CÓRDOBA CAPITAL
          </h6>

          <!-- Hora -->
          <h4 class="text-dark fw-bold mt-3 font_title">21:30 HS</h4>

          <!-- Video del salón -->
          <div class="my-3">
            <video class="rounded-4 w-100" autoplay muted loop playsinline>
              <source src="BARBARA/CAYETANA.mp4" type="video/mp4" />
              Tu navegador no soporta la reproducción de video.
            </video>
            <script>
              const video = document.querySelector("video");
              video.volume = 0.5; // Cuando el usuario active el sonido, estará al 50%
            </script>
          </div>

          <!-- Botón ubicación -->
          <button
            onclick="mostrarMapa()"
            class="btn btn-custom-outline rounded-pill px-4"
          >
            VER UBICACIÓN
          </button>
        </div>
      </div>
    </section>

    <script>
      function mostrarMapa() {
        Swal.fire({
          title: '<h5 class="mb-3">Ubicación del Salón</h5>',
          html: `
        <div style="position:relative;padding-bottom:150%;height:0;overflow:hidden;border-radius:15px;margin-bottom:1rem;">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6805.712188936508!2d-64.21857839374653!3d-31.453901922788422!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9432a2c1a905160b%3A0x2d80bca9bbf3b178!2sLa%20Cayetana!5e0!3m2!1ses!2sar!4v1720540000000!5m2!1ses!2sar"
            width="100%" height="100%"
            style="border:0;position:absolute;top:0;left:0;pointer-events:auto;z-index:1;"
            allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
        <button onclick="Swal.close()" class="btn btn-outline-dark rounded-pill px-4">
  			Cerrar
		</button>
      `,
          width: "90%",
          background: "#fff",
          padding: "1rem",
          showConfirmButton: false,
          customClass: {
            popup: "rounded-4 shadow border border-dark",
          },
        });
      }
    </script>

    <!-- Sección Dress Code -->
    <section class="my-0 p-0">
      <div class="container-fluid px-3">
        <div
          class="mx-auto p-4 rounded-4 border border-1 shadow"
          style="
            border-color: #d4af37 !important;
            background-color: #ffffff;
            max-width: 1000px;
          "
        >
          <div class="text-center mb-0">
            <div class="fade-on-scroll mb-3">
              <img
                width="180"
                height="106"
                src="BARBARA/dressCode.png"
                class="img-fluid"
                alt="Icono moño"
              />
            </div>
            <h2 class="text-dark fw-bold font_title">DRESS CODE</h2>
            <h5 class="text-dark fw-bold font_title">ELEGANTE</h5>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección Asistencia -->
    <section class="my-5">
      <div class="container-fluid px-3">
        <div
          class="mx-auto p-4 rounded-4 border border-1 shadow text-center"
          style="
            border-color: #d4af37 !important;
            background-color: #ffffff;
            max-width: 1000px;
          "
        >
          <div class="text-center mb-4">
            <div class="fade-on-scroll elementor-widget-container">
              <img
                width="180"
                src="BARBARA/asistencia.png"
                class="attachment-large size-large wp-image-3926"
                alt=""
              />
            </div>
            <h2
              class="elementor-heading-title elementor-size-default text-dark font_title fw-bold"
            >
              CONFIRMACIÓN DE ASISTENCIA
            </h2>
            <p class="text-dark" style="font-size: 0.95rem">
              Ademas de la asistencia es importante que nos hagas saber si
              tenemos que contemplar algún tipo de alergia o intolerancia a
              alimentos.
            </p>
            <p class="text-dark fw-bold" style="font-size: 1.1rem">
              ¡Contanos si podés asistir y con cuántos acompañantes!
            </p>
          </div>

          <form
            id="formAsistencia"
            class="mx-auto text-dark"
            style="max-width: 600px"
          >
            <div class="form-check form-check-inline fw-bold">
              <input
                class="form-check-input"
                type="radio"
                name="asistencia"
                id="asistire"
                value="Sí"
                required
                checked
              />
              <label class="form-check-label" for="asistire"
                >Sí, confirmo</label
              >
            </div>
            <div class="form-check form-check-inline fw-bold">
              <input
                class="form-check-input"
                type="radio"
                name="asistencia"
                id="noAsistire"
                value="No"
                required
              />
              <label class="form-check-label" for="noAsistire">No puedo</label>
            </div>

            <div class="mb-3">
              <label for="nombre" class="form-label text-dark"
                >Nombre completo</label
              >
              <input
                type="text"
                id="nombre"
                name="nombre"
                class="form-control rounded-pill py-2 px-4 bg_input text-white border-0"
                placeholder="Ej: Juan Pérez"
                required
              />
            </div>

            <div class="mb-4">
              <label class="form-label text-dark fw-bold"
                >¿Quiénes vienen?</label
              >
              <div class="row g-3">
                <div class="col-md-3 col-6">
                  <label for="adultos" class="form-label text-dark"
                    >Adultos (+18 A)</label
                  >
                  <input
                    type="number"
                    id="adultos"
                    name="adultos"
                    class="form-control rounded-pill py-2 px-3 bg_input text-white border-0"
                    min="0"
                    placeholder="Ej: 2"
                  />
                </div>
                <div class="col-md-3 col-6">
                  <label for="jovenes" class="form-label text-dark"
                    >Jóvenes (13-17 A)
                  </label>
                  <input
                    type="number"
                    id="jovenes"
                    name="jovenes"
                    class="form-control rounded-pill py-2 px-3 bg_input text-white border-0"
                    min="0"
                    placeholder="Ej: 1"
                  />
                </div>
                <div class="col-md-3 col-6">
                  <label for="menores" class="form-label text-dark"
                    >Menores (3-12 A)</label
                  >
                  <input
                    type="number"
                    id="menores"
                    name="menores"
                    class="form-control rounded-pill py-2 px-3 bg_input text-white border-0"
                    min="0"
                    placeholder="Ej: 1"
                  />
                </div>
                <div class="col-md-3 col-6">
                  <label for="ninios" class="form-label text-dark"
                    >Niños (0-2 A)</label
                  >
                  <input
                    type="number"
                    id="ninios"
                    name="ninios"
                    class="form-control rounded-pill py-2 px-3 bg_input text-white border-0"
                    min="0"
                    placeholder="Ej: 1"
                  />
                </div>
              </div>
            </div>
            <div class="mb-4">
              <label for="mensaje" class="form-label text-dark">Mensaje</label>
              <textarea
                id="mensaje"
                name="mensaje"
                class="form-control rounded-4 bg_input text-white border-0"
                rows="4"
                placeholder="Ej: Llego más tarde, uso silla de ruedas, etc."
              ></textarea>
            </div>
            <div class="text-center">
              <em><h5>No te olvides de confirmar antes del 31/8/2025</h5></em>
              <button
                type="submit"
                class="btn btn-custom-outline rounded-pill px-4"
              >
                CONFIRMAR
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Sección Regalos -->
    <section class="my-5">
      <div class="w-100">
        <img
          src="banners/azulSuperior.png"
          class="img-fluid d-block w-100"
          alt="Decoración azul superior"
        />
      </div>
      <div class="container-fluid px-3" style="background-color: #0d1b3d">
        <div
          class="mx-auto p-4 rounded-4 border border-1 shadow text-center"
          style="
            border-color: #d4af37 !important;
            background-color: #ffffff;
            max-width: 1000px;
          "
        >
          <div class="fade-on-scroll text-center mb-4">
            <div class="mb-3">
              <img
                width="180"
                height="106"
                src="BARBARA/regalos.png"
                class="img-fluid"
                alt="Icono regalos"
              />
            </div>

            <h2 class="text-dark fw-bold font_title">REGALOS</h2>
            <p class="text-dark" style="font-size: 0.95rem">
              Tu presencia es lo más importante, pero si querés hacerme un
              regalo podés usar los datos que se mostrarán a continuación.
            </p>

            <button
              class="btn btn-custom-outline rounded-pill px-4 my-3"
              onclick="mostrarDatosRegalo()"
            >
              VER CUENTA
            </button>
          </div>
        </div>
      </div>
      <div class="w-100">
        <img
          src="banners/azulInferior.png"
          class="img-fluid d-block w-100"
          alt="Decoración azul superior"
        />
      </div>
    </section>
    <script>
      function mostrarDatosRegalo() {
        const alias = "bardelgadoo.mp";

        Swal.fire({
          title: "Datos para regalo",
          html: `
			<p><strong>Alias:</strong> ${alias}</p>
      <p><strong>Nombre:</strong> ${"Bárbara Delgado"}</p>
			<button id="btnCopiarAlias" class="btn btn-outline-dark rounded-pill mt-2">Copiar alias</button>
		`,
          showConfirmButton: false,
          background: "#ffffff",
          color: "#000",
          didRender: () => {
            // Este se ejecuta cuando se muestra el SweetAlert y el botón ya existe
            document
              .getElementById("btnCopiarAlias")
              .addEventListener("click", () => {
                navigator.clipboard
                  .writeText(alias)
                  .then(() => {
                    Swal.fire({
                      icon: "success",
                      title: "¡Alias copiado!",
                      text: "Podés pegarlo donde lo necesites.",
                      showConfirmButton: false,
                      timer: 1000,
                      timerProgressBar: true,
                    });
                  })
                  .catch(() => {
                    Swal.fire({
                      icon: "error",
                      title: "No se pudo copiar",
                      text: "Intentá manualmente",
                      confirmButtonColor: "#0d1b3d",
                    });
                  });
              });
          },
          customClass: {
            popup: "rounded-4 border border-dark",
          },
        });
      }
    </script>

    <!-- Sección Canciones -->
    <section class="my-5">
      <div class="container-fluid px-3">
        <div
          class="mx-auto p-4 rounded-4 border border-1 shadow text-center"
          style="
            border-color: #d4af37 !important;
            background-color: #ffffff;
            max-width: 1000px;
          "
        >
          <div class="fade-on-scroll text-center mb-4">
            <div class="mb-3">
              <img
                width="180"
                height="106"
                src="BARBARA/musica.png"
                class="img-fluid"
                alt="Icono musical"
              />
            </div>

            <h2 class="text-dark fw-bold font_title">
              ¿QUÉ CANCIONES NO PUEDEN FALTAR?
            </h2>
            <p class="text-dark" style="font-size: 0.95rem">
              ¡Ayudame sugiriendo las canciones que pensás que no pueden faltar
              en la fiesta!
            </p>
          </div>

          <form
            id="formCanciones"
            class="mx-auto text-dark"
            style="max-width: 600px"
          >
            <div class="mb-3">
              <label for="nombreCancion" class="form-label text-dark"
                >Nombre de la canción</label
              >
              <input
                type="text"
                id="nombreCancion"
                class="form-control rounded-pill py-2 px-4 bg_input text-white border-0"
                placeholder="Ej: Mi canción favorita"
                required
              />
            </div>

            <div class="mb-3">
              <label for="autor" class="form-label text-dark"
                >Autor / Artista</label
              >
              <input
                type="text"
                id="autor"
                class="form-control rounded-pill py-2 px-4 bg_input text-white border-0"
                placeholder="Ej: Bad Bunny, Duki..."
                required
              />
            </div>

            <div class="mb-3">
              <label for="enlace" class="form-label text-dark"
                >Enlace (Spotify, YouTube...)</label
              >
              <input
                type="url"
                id="enlace"
                class="form-control rounded-pill py-2 px-4 bg_input text-white border-0"
                placeholder="https://..."
              />
            </div>

            <div class="text-center">
              <button
                type="submit"
                class="btn btn-custom-outline rounded-pill px-4"
              >
                ENVIAR
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Sección Pie de página -->
    <div class="w-100">
      <img
        src="banners/azulSuperior.png"
        class="img-fluid d-block w-100"
        alt="Decoración azul superior"
      />
    </div>

    <footer
      style="
        background-color: #0d1b3d;
        padding: 2rem 1rem;
        text-align: center;
        color: white;
      "
    >
      <!-- Audio -->
      <audio id="track">
        <source src="BARBARA/BRUNO.mp3" type="audio/mpeg" />
      </audio>

      <!-- Texto con enlace -->
      <a
        href="https://grupodyf.com/"
        style="color: white; text-decoration: none"
      >
        Diseñada por Grupo DyF
      </a>

      <!-- Botón flotante -->
      <button
        id="play-pause"
        class="play"
        style="
          position: fixed;
          bottom: 20px;
          left: 20px;
          background-color: #0d1b3d;
          color: white;
          border: 2px solid white;
          border-radius: 50%;
          width: 50px;
          height: 50px;
          font-size: 18px;
          z-index: 9999;
        "
      >
        ▶️
      </button>

      <!-- Script -->
      <script>
        const track = document.getElementById("track");
        const controlBtn = document.getElementById("play-pause");

        function playPause() {
          if (track.paused) {
            track.play();
            controlBtn.textContent = "⏸️";
          } else {
            track.pause();
            controlBtn.textContent = "▶️";
          }
        }

        controlBtn.addEventListener("click", playPause);
        track.addEventListener("ended", function () {
          controlBtn.textContent = "▶️";
        });
      </script>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
                observer.unobserve(entry.target);
              }
            });
          },
          {
            threshold: 0.1,
          }
        );

        document.querySelectorAll(".fade-on-scroll").forEach((el) => {
          observer.observe(el);
        });
      });
    </script>
  </body>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
    } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";
    const firebaseConfig = {
      apiKey: "AIzaSyAw6CUWAMFJ35SIziP-0gpN06vRxkScI6k",
      authDomain: "fiestabarbara.firebaseapp.com",
      projectId: "fiestabarbara",
      storageBucket: "fiestabarbara.firebasestorage.app",
      messagingSenderId: "75513074857",
      appId: "1:75513074857:web:2ac09043c23ae64175c5b8",
      measurementId: "G-M2XPL4SQTT",
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const form = document.getElementById("formAsistencia");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      // Capturar los datos
      const asistencia =
        form.querySelector('input[name="asistencia"]:checked')?.value || "";
      const nombre = form.nombre.value;
      const adultos = parseInt(form.adultos.value) || 0;
      const jovenes = parseInt(form.jovenes.value) || 0;
      const menores = parseInt(form.menores.value) || 0;
      const ninios = parseInt(form.ninios.value) || 0;
      const mensaje = form.mensaje.value;

      Swal.fire({
        title: "Enviando confirmación...",
        text: "Por favor, aguardá un momento",
        allowOutsideClick: false,
        allowEscapeKey: false,
        didOpen: () => {
          Swal.showLoading();
        },
      });

      try {
        await addDoc(collection(db, "asistencias"), {
          asistencia,
          nombre,
          adultos,
          jovenes,
          menores,
          ninios,
          mensaje,
          timestamp: new Date(),
        });

        Swal.fire({
          icon: "success",
          title: "¡Asistencia confirmada!",
          text: "Gracias por tu respuesta 🤍",
          confirmButtonText: "Aceptar",
        });

        form.reset();
      } catch (error) {
        console.error("Error al enviar los datos:", error);
        Swal.fire({
          icon: "error",
          title: "Error",
          text: "Ocurrió un problema al enviar los datos. Intentá de nuevo.",
          confirmButtonText: "Aceptar",
        });
      }
    });
  </script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
    } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig2 = {
      apiKey: "AIzaSyAw6CUWAMFJ35SIziP-0gpN06vRxkScI6k",
      authDomain: "fiestabarbara.firebaseapp.com",
      projectId: "fiestabarbara",
      storageBucket: "fiestabarbara.firebasestorage.app",
      messagingSenderId: "75513074857",
      appId: "1:75513074857:web:2ac09043c23ae64175c5b8",
      measurementId: "G-M2XPL4SQTT",
    };

    const app2 = initializeApp(firebaseConfig2);
    const db2 = getFirestore(app2);

    const formCanciones = document.getElementById("formCanciones");

    formCanciones.addEventListener("submit", async (e) => {
      e.preventDefault();

      const nombreCancion = document
        .getElementById("nombreCancion")
        .value.trim();
      const autor = document.getElementById("autor").value.trim();
      const enlace = document.getElementById("enlace").value.trim();

      if (!nombreCancion || !autor) {
        Swal.fire({
          icon: "warning",
          title: "Faltan datos",
          text: "Completá todos los campos antes de enviar.",
          confirmButtonColor: "#0d1b3d",
        });
        return;
      }

      // 🔄 Mostrar reloj de arena mientras carga
      Swal.fire({
        title: "Cargando...",
        text: "Enviando sugerencia de canción",
        allowOutsideClick: false,
        showConfirmButton: false,
        didOpen: () => {
          Swal.showLoading(); // Reloj de arena animado
        },
      });

      try {
        await addDoc(collection(db2, "canciones"), {
          nombreCancion,
          autor,
          enlace,
          timestamp: new Date(),
        });

        // ✅ Éxito - cerrar el reloj de arena y mostrar éxito breve
        Swal.close(); // Cerrar el loading
        Swal.fire({
          icon: "success",
          title: "¡Enviado!",
          text: "Gracias por sugerir una canción 🎶",
          showConfirmButton: false,
          timer: 1000, // Se cierra solo en 1 segundo
        });

        formCanciones.reset();
      } catch (error) {
        console.error("Error al guardar en Firestore:", error);
        Swal.fire({
          icon: "error",
          title: "Error",
          text: "No se pudo enviar tu sugerencia. Intentá nuevamente.",
          confirmButtonColor: "#dc3545",
        });
      }
    });
  </script>
</html>
